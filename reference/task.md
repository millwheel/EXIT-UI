# 계정관리 UI 변경

### 계정 관리 UI 요구사항

계정 관리 페이지를 수정해야한다.

기본적으로 Column View 구성이다.
Hierarchical data를 여러 개의 고정된 pane(컬럼)에 분할하여,
선택에 따라 오른쪽 pane이 갱신되는 UI 를 적용해야한다.
이에 대한 예시가 layout-sketch.png 에 포함되어있다.

- 특정 총판을 누르면 그 총판에 해당하는 조직들이 펼쳐진다.
- 특정 조직을 누르면 그 조직에 해당하는 유저들 정보 (대행사, 광고주) 가 일렬로 나열된다. (대행사는 위로, 광고주는 아래로)
- 총판은 모든 총판과 하위 조직, 대행사, 광고주를 볼 수 있다.
- 대행사는 상위 총판과 본인이 속한 조직, 그 조직에 속한 대행사, 광고주를 볼 수 있다.
- 광고주는 상위 총판과 본인이 속한 조직, 그 조직에 속한 대행사, 자기자신을 볼 수 있다.

---

## 레이아웃 분석 (layout-sketch.png 기반)

```
┌─────────────┬─────────────┬─────────────────────────┐
│ Column 1    │ Column 2    │ Column 3                │
│ 총판 목록   │ 조직 목록   │ 유저 목록               │
├─────────────┼─────────────┼─────────────────────────┤
│ 총판A(선택) │ 조직A       │ ┌─────────────────────┐ │
│             │             │ │ 대행사              │ │
│             │             │ │                    │ │
│             │             │ └─────────────────────┘ │
├─────────────┤─────────────├─────────────────────────┤
│ 총판B       │ 조직B       │ ┌─────────────────────┐ │
│             │             │ │ 광고주A             │ │
│             │             │ └─────────────────────┘ │
├─────────────┤─────────────├─────────────────────────┤
│ 총판C       │ 조직C       │ ┌─────────────────────┐ │
│             │             │ │ 광고주B             │ │
│             │             │ │                    │ │
│             │             │ └─────────────────────┘ │
└─────────────┴─────────────┴─────────────────────────┘
```

**핵심 특징:**
- 3-Column View (macOS Finder 스타일)
- Column 1: 총판 목록 (세로 리스트)
- Column 2: 선택된 총판의 조직 목록 (세로 리스트)
- Column 3: 선택된 조직의 유저 목록 (세로 카드 리스트)
  - 대행사 카드가 상단에 배치
  - 광고주 카드가 하단에 배치

---

## 구현 태스크

### 1. 현재 UI 수정 (AccountHierarchy 컴포넌트) ✅
- [x] Column 3의 유저 표시 방식 변경: 칩 → 카드 형태 (UserCard 컴포넌트)
- [x] 유저 카드 세로 일렬 나열 (flex-col gap-3)
- [x] 대행사 카드 상단, 광고주 카드 하단 배치
- [x] 유저 닉네임 클릭 시 세부 정보 모달 표시

### 2. 역할별 뷰 처리 ✅
- [x] MASTER: Column 1에 모든 총판 표시, 선택에 따라 Column 2/3 갱신
- [x] AGENCY: Column 1에 상위 총판 1개 고정, Column 2에 본인 조직 1개 고정, Column 3에 조직 유저 표시
- [x] ADVERTISER: Column 1에 상위 총판 1개 고정, Column 2에 본인 조직 1개 고정, Column 3에 대행사 + 자기자신만 표시

### 3. API 수정 ✅
- [x] AGENCY용 hierarchy API 응답에 상위 총판 정보 포함 (기존 완료)
- [x] ADVERTISER용 hierarchy API 응답에 상위 총판 정보 추가